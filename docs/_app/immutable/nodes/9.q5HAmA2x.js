import{s as ce,o as ie,n as K}from"../chunks/scheduler.UsNOiup1.js";import{S as he,i as ue,e as C,s as I,c as E,a as S,m as F,f as O,d as b,p as v,g as M,h as m,l as H,z as ne,k as G,w as Q,t as V,b as J,u as ae,y as oe,j as fe,A as _e,B as de,C as pe,D as me}from"../chunks/index.3yGfJt-g.js";import{e as z}from"../chunks/each.6w4Ej4nR.js";import{i as ge,c as ve,a as be}from"../chunks/firebase.224fbcjl.js";import{C as ke}from"../chunks/ClubPreview.DugK_bKt.js";import{u as Ce}from"../chunks/store.MIH45tLv.js";import{r as Y}from"../chunks/regionsAndCounties.34LWOHa2.js";import{g as Z}from"../chunks/gauges.I8WL8mha.js";import{b as Ee}from"../chunks/paths.6OVLnlHr.js";function x(r,e,l){const s=r.slice();return s[10]=e[l],s}function ee(r,e,l){const s=r.slice();return s[13]=e[l],s[14]=e,s[15]=l,s}function te(r,e,l){const s=r.slice();return s[16]=e[l],s[17]=e,s[18]=l,s}function le(r){let e,l,s,o,f=r[16].name+"",i,_,h,n;function q(){r[6].call(l,r[16])}return{c(){e=C("p"),l=C("input"),s=I(),o=C("label"),i=V(f),_=I(),this.h()},l(d){e=E(d,"P",{class:!0});var t=S(e);l=E(t,"INPUT",{type:!0,id:!0,class:!0}),s=O(t),o=E(t,"LABEL",{for:!0});var a=S(o);i=J(a,f),a.forEach(b),_=O(t),t.forEach(b),this.h()},h(){v(l,"type","checkbox"),v(l,"id",r[16].regionCode),v(l,"class","svelte-whqdjr"),v(o,"for",r[16].regionCode),v(e,"class","svelte-whqdjr")},m(d,t){M(d,e,t),m(e,l),l.checked=r[0][r[16].name],m(e,s),m(e,o),m(o,i),m(e,_),h||(n=ae(l,"change",q),h=!0)},p(d,t){r=d,t&1&&(l.checked=r[0][r[16].name])},d(d){d&&b(e),h=!1,n()}}}function se(r){let e,l,s,o,f,i,_,h;function n(){r[7].call(l,r[13])}return{c(){e=C("p"),l=C("input"),s=I(),o=C("label"),f=V(r[13]),i=I(),this.h()},l(q){e=E(q,"P",{class:!0});var d=S(e);l=E(d,"INPUT",{type:!0,id:!0,class:!0}),s=O(d),o=E(d,"LABEL",{for:!0});var t=S(o);f=J(t,r[13]),t.forEach(b),i=O(d),d.forEach(b),this.h()},h(){v(l,"type","checkbox"),v(l,"id",r[13]),v(l,"class","svelte-whqdjr"),v(o,"for",r[13]),v(e,"class","svelte-whqdjr")},m(q,d){M(q,e,d),m(e,l),l.checked=r[1][r[13]],m(e,s),m(e,o),m(o,f),m(e,i),_||(h=ae(l,"change",n),_=!0)},p(q,d){r=q,d&2&&(l.checked=r[1][r[13]])},d(q){q&&b(e),_=!1,h()}}}function we(r){let e,l="Laddar klubbar...";return{c(){e=C("p"),e.textContent=l},l(s){e=E(s,"P",{"data-svelte-h":!0}),F(e)!=="svelte-7ky9cp"&&(e.textContent=l)},m(s,o){M(s,e,o)},p:K,i:K,o:K,d(s){s&&b(e)}}}function je(r){var d;let e,l=((d=r[2])==null?void 0:d.length)+"",s,o,f,i,_,h=z(r[2]),n=[];for(let t=0;t<h.length;t+=1)n[t]=re(x(r,h,t));const q=t=>H(n[t],1,1,()=>{n[t]=null});return{c(){e=C("p"),s=V(l),o=V(" klubbar matchar ditt urval"),f=I(),i=C("ul");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=E(t,"P",{});var a=S(e);s=J(a,l),o=J(a," klubbar matchar ditt urval"),a.forEach(b),f=O(t),i=E(t,"UL",{class:!0});var g=S(i);for(let p=0;p<n.length;p+=1)n[p].l(g);g.forEach(b),this.h()},h(){v(i,"class","svelte-whqdjr")},m(t,a){M(t,e,a),m(e,s),m(e,o),M(t,f,a),M(t,i,a);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(i,null);_=!0},p(t,a){var g;if((!_||a&4)&&l!==(l=((g=t[2])==null?void 0:g.length)+"")&&fe(s,l),a&4){h=z(t[2]);let p;for(p=0;p<h.length;p+=1){const A=x(t,h,p);n[p]?(n[p].p(A,a),G(n[p],1)):(n[p]=re(A),n[p].c(),G(n[p],1),n[p].m(i,null))}for(oe(),p=h.length;p<n.length;p+=1)q(p);ne()}},i(t){if(!_){for(let a=0;a<h.length;a+=1)G(n[a]);_=!0}},o(t){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)H(n[a]);_=!1},d(t){t&&(b(e),b(f),b(i)),Q(n,t)}}}function re(r){let e,l,s,o;return l=new ke({props:{club:r[10]}}),{c(){e=C("li"),_e(l.$$.fragment),s=I(),this.h()},l(f){e=E(f,"LI",{class:!0});var i=S(e);de(l.$$.fragment,i),s=O(i),i.forEach(b),this.h()},h(){v(e,"class","svelte-whqdjr")},m(f,i){M(f,e,i),pe(l,e,null),m(e,s),o=!0},p(f,i){const _={};i&4&&(_.club=f[10]),l.$set(_)},i(f){o||(G(l.$$.fragment,f),o=!0)},o(f){H(l.$$.fragment,f),o=!1},d(f){f&&b(e),me(l)}}}function qe(r){let e,l,s,o,f="Region",i,_,h,n,q="Skala",d,t,a,g,p=`<h1>Klubbar</h1> <a href="${Ee}/club/create" class="button">Skapa en klubb</a>`,A,P,L,N,B=z(Y.regions),w=[];for(let c=0;c<B.length;c+=1)w[c]=le(te(r,B,c));let $=z(Z),j=[];for(let c=0;c<$.length;c+=1)j[c]=se(ee(r,$,c));const W=[je,we],D=[];function X(c,y){return c[2]?0:1}return P=X(r),L=D[P]=W[P](r),{c(){e=C("div"),l=C("aside"),s=C("form"),o=C("p"),o.textContent=f,i=I();for(let c=0;c<w.length;c+=1)w[c].c();_=I(),h=C("form"),n=C("p"),n.textContent=q,d=I();for(let c=0;c<j.length;c+=1)j[c].c();t=I(),a=C("section"),g=C("header"),g.innerHTML=p,A=I(),L.c(),this.h()},l(c){e=E(c,"DIV",{id:!0,class:!0});var y=S(e);l=E(y,"ASIDE",{class:!0});var k=S(l);s=E(k,"FORM",{class:!0});var u=S(s);o=E(u,"P",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-119f9o8"&&(o.textContent=f),i=O(u);for(let T=0;T<w.length;T+=1)w[T].l(u);u.forEach(b),_=O(k),h=E(k,"FORM",{class:!0});var R=S(h);n=E(R,"P",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-1z04tsy"&&(n.textContent=q),d=O(R);for(let T=0;T<j.length;T+=1)j[T].l(R);R.forEach(b),k.forEach(b),t=O(y),a=E(y,"SECTION",{});var U=S(a);g=E(U,"HEADER",{class:!0,"data-svelte-h":!0}),F(g)!=="svelte-1pzfkri"&&(g.innerHTML=p),A=O(U),L.l(U),U.forEach(b),y.forEach(b),this.h()},h(){v(o,"class","svelte-whqdjr"),v(s,"class","svelte-whqdjr"),v(n,"class","svelte-whqdjr"),v(h,"class","svelte-whqdjr"),v(l,"class","svelte-whqdjr"),v(g,"class","svelte-whqdjr"),v(e,"id","main"),v(e,"class","svelte-whqdjr")},m(c,y){M(c,e,y),m(e,l),m(l,s),m(s,o),m(s,i);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(s,null);m(l,_),m(l,h),m(h,n),m(h,d);for(let k=0;k<j.length;k+=1)j[k]&&j[k].m(h,null);m(e,t),m(e,a),m(a,g),m(a,A),D[P].m(a,null),N=!0},p(c,[y]){if(y&1){B=z(Y.regions);let u;for(u=0;u<B.length;u+=1){const R=te(c,B,u);w[u]?w[u].p(R,y):(w[u]=le(R),w[u].c(),w[u].m(s,null))}for(;u<w.length;u+=1)w[u].d(1);w.length=B.length}if(y&2){$=z(Z);let u;for(u=0;u<$.length;u+=1){const R=ee(c,$,u);j[u]?j[u].p(R,y):(j[u]=se(R),j[u].c(),j[u].m(h,null))}for(;u<j.length;u+=1)j[u].d(1);j.length=$.length}let k=P;P=X(c),P===k?D[P].p(c,y):(oe(),H(D[k],1,1,()=>{D[k]=null}),ne(),L=D[P],L?L.p(c,y):(L=D[P]=W[P](c),L.c()),G(L,1),L.m(a,null))},i(c){N||(G(L),N=!0)},o(c){H(L),N=!1},d(c){c&&b(e),Q(w,c),Q(j,c),D[P].d()}}}function ye(r,e,l){let s,o,f;Ce.subscribe(t=>t),ie(i);async function i(){let t=[];(await ge(ve(be,"clubs"))).forEach(a=>{t.push({uid:a.id,data:a.data()})}),l(3,_=t)}let _=null,h={},n={};function q(t){h[t.name]=this.checked,l(0,h)}function d(t){n[t]=this.checked,l(1,n)}return r.$$.update=()=>{r.$$.dirty&1&&l(5,s=!Object.values(h).some(t=>t)),r.$$.dirty&2&&l(4,o=!Object.values(n).some(t=>t)),r.$$.dirty&59&&l(2,f=_==null?void 0:_.filter(t=>{var g,p;const a=[];return Object.keys(n).forEach(A=>{n[A]&&a.push(A)}),(s||h[(g=t==null?void 0:t.data)==null?void 0:g.region])&&(o||(((p=t==null?void 0:t.data)==null?void 0:p.gauges)||[]).some(A=>a.includes(A)))}))},[h,n,f,_,o,s,q,d]}class Te extends he{constructor(e){super(),ue(this,e,ye,qe,ce,{})}}export{Te as component};
