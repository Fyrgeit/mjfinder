import{s as Pe,n as Y,d as he,r as Le}from"../chunks/scheduler.UsNOiup1.js";import{S as Te,i as Se,e as _,s as k,n as de,c as p,m as N,f as E,g as D,d as b,o as me,a as P,p as g,h as r,q as I,r as V,u as F,v as Ie,w as be,t as Ee,b as ye,j as Ne}from"../chunks/index.t5UJTB7O.js";import{e as ae}from"../chunks/each.6w4Ej4nR.js";import{u as we}from"../chunks/store.MIH45tLv.js";import{d as W,a as M,b as xe,c as Ae,u as ve,e as ge}from"../chunks/firebase.224fbcjl.js";import{r as X}from"../chunks/regionsAndCounties.34LWOHa2.js";import{g as Be}from"../chunks/entry.IhM8OI2V.js";import{b as Oe}from"../chunks/paths.5CuYmM-u.js";function Ce(a,e,l){const n=a.slice();return n[9]=e[l],n}function Ue(a,e,l){const n=a.slice();return n[12]=e[l],n}function qe(a){let e,l="Då måste vara inloggad för att skapa en klubb";return{c(){e=_("p"),e.textContent=l},l(n){e=p(n,"P",{"data-svelte-h":!0}),N(e)!=="svelte-kzb93y"&&(e.textContent=l)},m(n,t){D(n,e,t)},p:Y,d(n){n&&b(e)}}}function De(a){let e,l,n,t="Klubbnamn",c,u,h,s,d,R="Kort beskrivning",H,v,K,L,w,re="Kontakt (e-mail)",Z,T,$,x,A,se="Plats (region)",ee,y,te,B,O,ie="Plats (kommun)",ne,C,le,j,ue="Skapa klubb",oe,ce,fe=ae(X.regions),S=[];for(let o=0;o<fe.length;o+=1)S[o]=Ke(Ue(a,fe,o));let z=ae(X.counties.filter(a[7])),m=[];for(let o=0;o<z.length;o+=1)m[o]=ke(Ce(a,z,o));return{c(){e=_("form"),l=_("p"),n=_("label"),n.textContent=t,c=k(),u=_("input"),h=k(),s=_("p"),d=_("label"),d.textContent=R,H=k(),v=_("input"),K=k(),L=_("p"),w=_("label"),w.textContent=re,Z=k(),T=_("input"),$=k(),x=_("p"),A=_("label"),A.textContent=se,ee=k(),y=_("select");for(let o=0;o<S.length;o+=1)S[o].c();te=k(),B=_("p"),O=_("label"),O.textContent=ie,ne=k(),C=_("select");for(let o=0;o<m.length;o+=1)m[o].c();le=k(),j=_("button"),j.textContent=ue,this.h()},l(o){e=p(o,"FORM",{});var f=P(e);l=p(f,"P",{});var i=P(l);n=p(i,"LABEL",{for:!0,"data-svelte-h":!0}),N(n)!=="svelte-13lqg11"&&(n.textContent=t),c=E(i),u=p(i,"INPUT",{type:!0,id:!0}),i.forEach(b),h=E(f),s=p(f,"P",{});var U=P(s);d=p(U,"LABEL",{for:!0,"data-svelte-h":!0}),N(d)!=="svelte-2xcsvt"&&(d.textContent=R),H=E(U),v=p(U,"INPUT",{type:!0,id:!0}),U.forEach(b),K=E(f),L=p(f,"P",{});var G=P(L);w=p(G,"LABEL",{for:!0,"data-svelte-h":!0}),N(w)!=="svelte-14ollme"&&(w.textContent=re),Z=E(G),T=p(G,"INPUT",{type:!0,id:!0}),G.forEach(b),$=E(f),x=p(f,"P",{});var J=P(x);A=p(J,"LABEL",{for:!0,"data-svelte-h":!0}),N(A)!=="svelte-zbriib"&&(A.textContent=se),ee=E(J),y=p(J,"SELECT",{id:!0});var _e=P(y);for(let q=0;q<S.length;q+=1)S[q].l(_e);_e.forEach(b),J.forEach(b),te=E(f),B=p(f,"P",{});var Q=P(B);O=p(Q,"LABEL",{for:!0,"data-svelte-h":!0}),N(O)!=="svelte-ck5n8k"&&(O.textContent=ie),ne=E(Q),C=p(Q,"SELECT",{id:!0});var pe=P(C);for(let q=0;q<m.length;q+=1)m[q].l(pe);pe.forEach(b),Q.forEach(b),le=E(f),j=p(f,"BUTTON",{"data-svelte-h":!0}),N(j)!=="svelte-1e855am"&&(j.textContent=ue),f.forEach(b),this.h()},h(){g(n,"for","name"),g(u,"type","text"),g(u,"id","name"),g(d,"for","desc"),g(v,"type","text"),g(v,"id","desc"),g(w,"for","contact"),g(T,"type","text"),g(T,"id","contact"),g(A,"for","region"),g(y,"id","region"),a[1].region===void 0&&he(()=>a[6].call(y)),g(O,"for","county"),g(C,"id","county"),a[1].county===void 0&&he(()=>a[8].call(C))},m(o,f){D(o,e,f),r(e,l),r(l,n),r(l,c),r(l,u),I(u,a[1].name),r(e,h),r(e,s),r(s,d),r(s,H),r(s,v),I(v,a[1].desc),r(e,K),r(e,L),r(L,w),r(L,Z),r(L,T),I(T,a[1].contact),r(e,$),r(e,x),r(x,A),r(x,ee),r(x,y);for(let i=0;i<S.length;i+=1)S[i]&&S[i].m(y,null);V(y,a[1].region,!0),r(e,te),r(e,B),r(B,O),r(B,ne),r(B,C);for(let i=0;i<m.length;i+=1)m[i]&&m[i].m(C,null);V(C,a[1].county,!0),r(e,le),r(e,j),oe||(ce=[F(u,"input",a[3]),F(v,"input",a[4]),F(T,"input",a[5]),F(y,"change",a[6]),F(C,"change",a[8]),F(e,"submit",Ie(a[2]))],oe=!0)},p(o,f){if(f&2&&u.value!==o[1].name&&I(u,o[1].name),f&2&&v.value!==o[1].desc&&I(v,o[1].desc),f&2&&T.value!==o[1].contact&&I(T,o[1].contact),f&2&&V(y,o[1].region),f&2){z=ae(X.counties.filter(o[7]));let i;for(i=0;i<z.length;i+=1){const U=Ce(o,z,i);m[i]?m[i].p(U,f):(m[i]=ke(U),m[i].c(),m[i].m(C,null))}for(;i<m.length;i+=1)m[i].d(1);m.length=z.length}f&2&&V(C,o[1].county)},d(o){o&&b(e),be(S,o),be(m,o),oe=!1,Le(ce)}}}function Ke(a){let e,l=a[12].name+"",n;return{c(){e=_("option"),n=Ee(l),this.h()},l(t){e=p(t,"OPTION",{});var c=P(e);n=ye(c,l),c.forEach(b),this.h()},h(){e.__value=a[12].name,I(e,e.__value)},m(t,c){D(t,e,c),r(e,n)},p:Y,d(t){t&&b(e)}}}function ke(a){let e,l=a[9].name+"",n,t;return{c(){e=_("option"),n=Ee(l),this.h()},l(c){e=p(c,"OPTION",{});var u=P(e);n=ye(u,l),u.forEach(b),this.h()},h(){e.__value=t=a[9].name,I(e,e.__value)},m(c,u){D(c,e,u),r(e,n)},p(c,u){u&2&&l!==(l=c[9].name+"")&&Ne(n,l),u&2&&t!==(t=c[9].name)&&(e.__value=t,I(e,e.__value))},d(c){c&&b(e)}}}function je(a){let e,l="Skapa en klubb",n,t;function c(s,d){return s[0]?De:qe}let u=c(a),h=u(a);return{c(){e=_("h1"),e.textContent=l,n=k(),h.c(),t=de()},l(s){e=p(s,"H1",{"data-svelte-h":!0}),N(e)!=="svelte-1o0g4or"&&(e.textContent=l),n=E(s),h.l(s),t=de()},m(s,d){D(s,e,d),D(s,n,d),h.m(s,d),D(s,t,d)},p(s,[d]){u===(u=c(s))&&h?h.p(s,d):(h.d(1),h=u(s),h&&(h.c(),h.m(t.parentNode,t)))},i:Y,o:Y,d(s){s&&(b(e),b(n),b(t)),h.d(s)}}}function ze(a,e,l){let n;we.subscribe(v=>l(0,n=v));let t={name:"",desc:"",contact:"",region:"",county:""};async function c(){l(1,t.applicants=[],t),l(1,t.members=[W(M,"users",n.uid)],t),l(1,t.owner=W(M,"users",n.uid),t);const v=await xe(Ae(M,"clubs"),t);await ve(W(M,"users",n.uid),{joinedClubs:ge(v)}),await ve(W(M,"users",n.uid),{ownedClubs:ge(v)}),Be(Oe+"/club")}function u(){t.name=this.value,l(1,t)}function h(){t.desc=this.value,l(1,t)}function s(){t.contact=this.value,l(1,t)}function d(){t.region=me(this),l(1,t)}const R=v=>{var K;return v.regionCode===((K=X.regions.find(L=>L.name===t.region))==null?void 0:K.regionCode)};function H(){t.county=me(this),l(1,t)}return[n,t,c,u,h,s,d,R,H]}class We extends Te{constructor(e){super(),Se(this,e,ze,je,Pe,{})}}export{We as component};
